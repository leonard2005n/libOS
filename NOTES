0x0-locul de unde porneste vectorul de interupturi

0x7c00 - locul unde bios incarca boot-sectororul in memorie

Comanda org 0x7c00 pune laberurile de la adressa 0x7c00 in colo.

in loc de esp si ebp echivalentu lor in 16 bit real mode este
sp si bp

Ca sa initializam memoria de stack in bootloader trebuie sa mutam
bp si sp mai sus de adresa 0x7e00 o putem initializa la 0x8000 ca
sa fim sigur ca nu distrugem instructuiunile in memori.

Un sistem de operare modern ii trebuie mai mult de 64 kb pt tot sistemu
asa ca exista niste registre de segmentare (cs, ds, ss, es) care ajuta
sistemu sa incarce mai multe parti in sistemu de operare.

cs - code segment
ds - data segment
ss - stack segment
es - extra segment

Processorul calucleaza aceste adrese facand 16 * segment + offset.
In 16 bit real mode noi putem accesa un MB in memorie.


;
; A boot sector that prints a string using our function.
;
[org 0x7c00] ; Tell the assembler where this code will be loaded

	mov bx, boot_os_message ; use bx as parameter for the function
	call print_string

	mov dx, 0x1fb6
	call print_hex

	jmp $

%include "print_hex.asm"
%include "print_string.asm"

boot_os_message:
	db 'Welcome to libOS!!! Booting OS...', 0

; Padding and magic BIOS number.
times 510-($-$$) db 0

dw 0xaa55


32 bit protected mode
In acest mod noi pierdem avatajale avand un bios care 
decteaza periferice si display. Adica noi trebuie sa ne scriem
drivere pt acestea.

Ca sa scriem lucruri pe ecran o sa folosim VGA (80X25) astfel 
care randeaza doar text. Aceasta de obicei se afla la 0xb8000 si retine
doua lucruri care retine doi bytes unu pt caracterul ascii si altul pt 
culoarea acestuia

I/O  Programming
Controlarul de floppy pe un intel adica DOR se afla la adressa 0x3F2 si putem
muta primu bit de la acesta addresa ca sa pornim motorul dischetului

mov dx, 0x3F2 ; trebui sa retinem adressa intr-un registru
in al, dx ; citim ce este in dor de la adressa din dx in al
or al, 00001000b ; pornim bitul pt motor
put dx, al ; updatam dor device-ului

in inline assemby in si out. Primu argument este destinatia si a doua este sura

